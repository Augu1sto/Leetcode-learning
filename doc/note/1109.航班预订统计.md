申请一个长度为n的数组，遍历每条记录，加上去。。

[【区间求和问题】差分入门模板题 (qq.com)](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247490329&idx=1&sn=6d448a53cd722bbd990fda82bd262857&chksm=fd9cb006caeb3910758522054564348b7eb4bde333889300bd5d249950be12a5b990b5d2c059&token=168273153&lang=zh_CN#rd)

- 数组不变，区间查询：**前缀和**、树状数组、线段树；
- 数组单点修改，区间查询：**树状数组**、线段树；
- 数组区间修改，单点查询：**差分**、线段树； ✔
- 数组区间修改，区间查询：**线段树**。

「差分」可以看做是求「前缀和」的逆向过程。

对于一个「 **将区间$[l,r]$ 整体增加一个值$v$** 」操作，我们可以对差分数组$c$ 的影响看成两部分：

- 对 $c[l]+=v$ ：由于差分是前缀和的逆向过程，这个操作对于将来的查询而言，带来的影响是对于所有的下标 **大于等于** $l$ 的位置都增加了值 $v$ ；
- 对 $c[r+1]-=v$ ：由于我们期望只对$[l,r]$产生影响，因此需要对下标大于$r$的位置进行减值操作，从而抵消“影响”。

对于最后的构造答案，可看做是对每个下标做“单点查询”操作，只需要 **对差分数组求前缀和** 即可。

![image-20220309163113739](https://gitee.com/Augu1sto/imageHost/raw/master/BlogImg/202203091632255.png)



![image-20220309162023149](https://gitee.com/Augu1sto/imageHost/raw/master/BlogImg/202203091620300.png)





